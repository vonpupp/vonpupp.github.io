{"author":{"name":"Albert","type":"card","url":"https://albertdelafuente.com"},"content":{"html":"\n\n\u003cdiv class=\"ox-hugo-toc toc\"\u003e\n\n\u003cdiv class=\"heading\"\u003eTable of Contents\u003c/div\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"#android-flashing\"\u003eAndroid flashing\u003c/a\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"#requirements-and-assumptions\"\u003eRequirements and assumptions\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#flash-a-new-rom\"\u003eFlash a new rom\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#manually-flash-both-files\"\u003eManually flash both files\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#enable-adb-on-device\"\u003eEnable ADB on device\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#install-the-automatic-updates-privileged-extension-for-f-droid\"\u003eInstall the automatic updates \u0026ldquo;privileged extension\u0026rdquo; for F-Droid\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#rsync\"\u003eRsync\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#base-configs\"\u003eBase configs\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#base-features\"\u003eBase features\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#computer-apps\"\u003eComputer apps\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#backup-with-adb-backup--deprecated-in-the-future\"\u003eBackup with adb backup (deprecated in the future)\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#backup-manually-selected-apps-copied-via-adb-within-twrp\"\u003eBackup manually selected apps copied via adb within TWRP\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#restore-manually-selected-apps-copied-via-adb-within-twrp\"\u003eRestore manually selected apps copied via adb within TWRP\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#backup-using-tetherback\"\u003eBackup using tetherback\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#restore-using-tetherback\"\u003eRestore using tetherback\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#restore-using-osmandx\"\u003eRestore using osmandx\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#restore\"\u003e\u003cspan class=\"org-todo todo TODO\"\u003eTODO\u003c/span\u003e Restore\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#migration\"\u003eMigration\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#in-case-of-lockout-of-recovery-boot-mode\"\u003eIn case of lockout of recovery boot mode\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e\u003c/div\u003e\n\u003c!--endtoc--\u003e\u003c/p\u003e\n\n\u003ch2 id=\"android-flashing\"\u003eAndroid flashing\u003c/h2\u003e\n\n\u003ch3 id=\"requirements-and-assumptions\"\u003eRequirements and assumptions\u003c/h3\u003e\n\n\u003cp\u003eAdapted from: \u003ca href=\"https://wiki.lineageos.org/devices/d802/upgrade\"\u003ehttps://wiki.lineageos.org/devices/d802/upgrade\u003c/a\u003e\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eThe phone has already TWRP as bootloader\u003c/li\u003e\n\u003cli\u003eLatest TWRP is already installed\u003c/li\u003e\n\u003cli\u003eROM in zip file (latest)\u003c/li\u003e\n\u003cli\u003eThe memory is already wiped\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch3 id=\"flash-a-new-rom\"\u003eFlash a new rom\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"chroma\"\u003e\u003ccode class=\"language-sh\" data-lang=\"sh\"\u003e  \u003cspan class=\"c1\"\u003e# Paths. EDIT THIS\u003c/span\u003e\n  \u003cspan class=\"nv\"\u003eFILES_PATH\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e/mnt/afuse/nas/share/os/android/lg-g2\n\n  \u003cspan class=\"c1\"\u003e# Reboot in recovery\u003c/span\u003e\n  adb reboot recovery\n  sleep \u003cspan class=\"m\"\u003e60\u003c/span\u003e\n\n  \u003cspan class=\"c1\"\u003e# Flash files\u003c/span\u003e\n  adb push \u003cspan class=\"nv\"\u003e$FILES_PATH\u003c/span\u003e/lineage-16.0-*.zip /sdcard/lineage16.zip\n  adb push \u003cspan class=\"nv\"\u003e$FILES_PATH\u003c/span\u003e/addonsu-16.0-arm64-*.zip /sdcard/addonsu16.zip\n  adb push contacts.vcf /sdcard/contacts.vcf\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch3 id=\"manually-flash-both-files\"\u003eManually flash both files\u003c/h3\u003e\n\n\u003cul\u003e\n\u003cli\u003eDONT allow \u0026ldquo;automatically\u0026rdquo; install anything\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch3 id=\"enable-adb-on-device\"\u003eEnable ADB on device\u003c/h3\u003e\n\n\u003cul\u003e\n\u003cli\u003eSecurity \u0026amp; location / Encryption \u0026amp; credentials / \u003ccode\u003eencrypt phone\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eAbout phone / Build number: \u003ccode\u003eHit 7 times\u003c/code\u003e the build number\u003c/li\u003e\n\u003cli\u003eSystem / Developer options /\n\n\u003cul\u003e\n\u003cli\u003eDebugging / Android Debugging (\u003ccode\u003eADB\u003c/code\u003e): enabled\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eroot access\u003c/code\u003e: Apps and ADB\u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eUSB preferences\u003c/code\u003e: File Transfer\u003c/li\u003e\n\u003cli\u003ePlug the USB cable\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch3 id=\"install-the-automatic-updates-privileged-extension-for-f-droid\"\u003eInstall the automatic updates \u0026ldquo;privileged extension\u0026rdquo; for F-Droid\u003c/h3\u003e\n\n\u003cul\u003e\n\u003cli\u003eReboot in TWRP and push the zip file and flash it\u003c/li\u003e\n\u003cli\u003eRemember to keep unselected all the checkboxes at the end (don\u0026rsquo;t install the APK!)\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003c!--listend--\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"chroma\"\u003e\u003ccode class=\"language-sh\" data-lang=\"sh\"\u003e  adb push \u003cspan class=\"nv\"\u003e$HOME\u003c/span\u003e/dropsync/appdata/android/baseapps/org.fdroid.fdroid.privileged.ota_2110.zip /sdcard/\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch3 id=\"rsync\"\u003eRsync\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"chroma\"\u003e\u003ccode class=\"language-sh\" data-lang=\"sh\"\u003e\u003cspan class=\"c1\"\u003e# Source: https://ptspts.blogspot.com/2015/03/how-to-use-rsync-over-adb-on-android.html\u003c/span\u003e\nwget -O rsync.bin http://github.com/pts/rsyncbin/raw/master/rsync.rsync4android\nadb push rsync.bin /data/local/tmp/rsync\nadb shell chmod \u003cspan class=\"m\"\u003e755\u003c/span\u003e /data/local/tmp/rsync\nadb shell cp /data/local/tmp/rsync /sdcard/rsync.bin\nadb shell /data/local/tmp/rsync --version\nadb shell /system/xbin/rsync --version\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch3 id=\"base-configs\"\u003eBase configs\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"chroma\"\u003e\u003ccode class=\"language-sh\" data-lang=\"sh\"\u003e  \u003cspan class=\"c1\"\u003e# Disable captive portal (\u0026#34;Connected, no internet\u0026#34;)\u003c/span\u003e\n  adb shell settings put global captive_portal_detection_enabled \u003cspan class=\"m\"\u003e0\u003c/span\u003e\n  adb shell settings put global captive_portal_mode \u003cspan class=\"m\"\u003e0\u003c/span\u003e\n  adb shell settings put global captive_portal_server example.com\n  adb shell settings put global captive_portal_https_server \u003cspan class=\"s2\"\u003e\u0026#34;https://example.com\u0026#34;\u003c/span\u003e\n  adb shell settings put global captive_portal_http_server \u003cspan class=\"s2\"\u003e\u0026#34;http://example.com\u0026#34;\u003c/span\u003e\n\n  \u003cspan class=\"c1\"\u003e# Disable watchdog\u003c/span\u003e\n  adb shell settings put global wifi_watchdog_on \u003cspan class=\"m\"\u003e0\u003c/span\u003e\n  adb shell settings put global wifi_watchdog_background_check_enabled \u003cspan class=\"m\"\u003e0\u003c/span\u003e\n\n  \u003cspan class=\"c1\"\u003e# Checks: Disable captive portal (\u0026#34;Connected, no internet\u0026#34;)\u003c/span\u003e\n  adb shell settings get global captive_portal_detection_enabled\n  adb shell settings get global captive_portal_mode\n  adb shell settings get global captive_portal_server\n  adb shell settings get global captive_portal_https_server\n  adb shell settings get global captive_portal_http_server\n\n  \u003cspan class=\"c1\"\u003e# Checks: Disable watchdog\u003c/span\u003e\n  adb shell settings get global wifi_watchdog_on\n  adb shell settings get global wifi_watchdog_background_check_enabled\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch3 id=\"base-features\"\u003eBase features\u003c/h3\u003e\n\n\u003cp\u003eEncryption\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eEnable it manually. Use at least 6 digits pin passwords\u003c/li\u003e\n\u003cli\u003eSet auto destruction on X failed attempts\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eData sync with Nextcould (orgmode, bbdb)\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eClient: \u003ca href=\"https://f-droid.org/en/packages/com.nextcloud.client/\"\u003ehttps://f-droid.org/en/packages/com.nextcloud.client/\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eData sync with EteSync: Based on django sync for contacts, calendar and tasks (orgmode, bbdb?)\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eClient: \u003ca href=\"https://f-droid.org/en/packages/com.etesync.syncadapter/\"\u003ehttps://f-droid.org/en/packages/com.etesync.syncadapter/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eServer: \u003ca href=\"https://github.com/etesync/server\"\u003ehttps://github.com/etesync/server\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eOrg mode\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://f-droid.org/en/packages/com.coste.syncorg/\"\u003ehttps://f-droid.org/en/packages/com.coste.syncorg/\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eAccess phone over desktop\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003escrcpy\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003ePhone tracking\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://f-droid.org/en/packages/net.eneiluj.nextcloud.phonetrack/\"\u003ehttps://f-droid.org/en/packages/net.eneiluj.nextcloud.phonetrack/\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch3 id=\"computer-apps\"\u003eComputer apps\u003c/h3\u003e\n\n\u003cp\u003epacaur -S scrcpy\u003c/p\u003e\n\n\u003ch3 id=\"backup-with-adb-backup--deprecated-in-the-future\"\u003eBackup with adb backup (deprecated in the future)\u003c/h3\u003e\n\n\u003cp\u003eSee: \u003ca href=\"https://www.reddit.com/r/LineageOS/comments/b7i1zx/twrp_vs_adb_backup_all_vs_oandbackup/\"\u003ehttps://www.reddit.com/r/LineageOS/comments/b7i1zx/twrp_vs_adb_backup_all_vs_oandbackup/\u003c/a\u003e\nSee: \u003ca href=\"https://play.google.com/store/apps/details?id=balti.migrate\u0026amp;hl=en_US\"\u003ehttps://play.google.com/store/apps/details?id=balti.migrate\u0026amp;hl=en_US\u003c/a\u003e\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"chroma\"\u003e\u003ccode class=\"language-sh\" data-lang=\"sh\"\u003e  \u003cspan class=\"c1\"\u003e# Variables:\u003c/span\u003e\n  \u003cspan class=\"c1\"\u003e#PHONE=lg_g2\u003c/span\u003e\n  \u003cspan class=\"nv\"\u003ePHONE\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003eoneplus_2\n  \u003cspan class=\"nv\"\u003eFILES_PATH\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e/mnt/afuse/nas/share/os/android/\u003cspan class=\"nv\"\u003e$PHONE\u003c/span\u003e/backups\n\n  \u003cspan class=\"c1\"\u003e# Reboot in recovery mode with:\u003c/span\u003e\n  \u003cspan class=\"c1\"\u003e# adb reboot recovery\u003c/span\u003e\n\n  adb backup -f \u003cspan class=\"nv\"\u003e$FILES_PATH\u003c/span\u003e/\u003cspan class=\"sb\"\u003e`\u003c/span\u003edate +\u003cspan class=\"s1\"\u003e\u0026#39;%Y-%m-%d\u0026#39;\u003c/span\u003e\u003cspan class=\"sb\"\u003e`\u003c/span\u003e.\u003cspan class=\"nv\"\u003e$PHONE\u003c/span\u003e.backup.ab --twrp --compress data system boot\n\n  adb reboot system\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch3 id=\"backup-manually-selected-apps-copied-via-adb-within-twrp\"\u003eBackup manually selected apps copied via adb within TWRP\u003c/h3\u003e\n\n\u003cp\u003eAlso USE\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"chroma\"\u003e\u003ccode class=\"language-sh\" data-lang=\"sh\"\u003eadb pull /data/data/com.excelliance.multiaccounts.b64\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch3 id=\"restore-manually-selected-apps-copied-via-adb-within-twrp\"\u003eRestore manually selected apps copied via adb within TWRP\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"chroma\"\u003e\u003ccode class=\"language-sh\" data-lang=\"sh\"\u003e\u003cspan class=\"c1\"\u003e# FIRST:\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e# - Install the app manually\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e# - Open and kill the app\u003c/span\u003e\nadb root\nadb push com.whatsapp /data/data/\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch3 id=\"backup-using-tetherback\"\u003eBackup using tetherback\u003c/h3\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/dlenski/tetherback\"\u003ehttps://github.com/dlenski/tetherback\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://gist.github.com/inhies/5069663\"\u003ehttps://gist.github.com/inhies/5069663\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003c!--listend--\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"chroma\"\u003e\u003ccode class=\"language-sh\" data-lang=\"sh\"\u003e  pipenv --three\n  pipenv install https://github.com/dlenski/tetherback/archive/0.9.1.zip\n  pipenv shell\n\n  adb reboot recovery\n\n  \u003cspan class=\"c1\"\u003e# Dont backup to usb flashdrive since throughput will be around 600kbps. Backup to local fs\u003c/span\u003e\n  \u003cspan class=\"c1\"\u003e# tetherback -M -P -o /home/av/backup\u003c/span\u003e\n  tetherback -t -M -D -R -C\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch3 id=\"restore-using-tetherback\"\u003eRestore using tetherback\u003c/h3\u003e\n\n\u003cp\u003e./adb-sync ../tetherback/twrp-backup-2020-05-08\u0026ndash;07-53-02 /sdcard\u003c/p\u003e\n\n\u003ch3 id=\"restore-using-osmandx\"\u003eRestore using osmandx\u003c/h3\u003e\n\n\u003ch3 id=\"restore\"\u003e\u003cspan class=\"org-todo todo TODO\"\u003eTODO\u003c/span\u003e Restore\u003c/h3\u003e\n\n\u003cp\u003eSee:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"chroma\"\u003e\u003ccode class=\"language-sh\" data-lang=\"sh\"\u003e  \u003cspan class=\"c1\"\u003e# Variables:\u003c/span\u003e\n  \u003cspan class=\"c1\"\u003e#PHONE=lg_g2\u003c/span\u003e\n  \u003cspan class=\"nv\"\u003ePHONE\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003eoneplus_2\n  \u003cspan class=\"nv\"\u003eFILES_PATH\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e/mnt/afuse/nas/share/os/android/\u003cspan class=\"nv\"\u003e$PHONE\u003c/span\u003e/backups\n\n  \u003cspan class=\"c1\"\u003e# Reboot in recovery mode with:\u003c/span\u003e\n  \u003cspan class=\"c1\"\u003e# adb reboot recovery\u003c/span\u003e\n\n  adb restore --twrp\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch3 id=\"migration\"\u003eMigration\u003c/h3\u003e\n\n\u003cp\u003eSee: \u003ca href=\"https://forum.xda-developers.com/android/apps-games/app-migrate-custom-rom-migration-tool-t3862763\"\u003ehttps://forum.xda-developers.com/android/apps-games/app-migrate-custom-rom-migration-tool-t3862763\u003c/a\u003e\nSee: \u003ca href=\"https://play.google.com/store/apps/details?id=balti.migrate\u0026amp;hl=en_US\"\u003ehttps://play.google.com/store/apps/details?id=balti.migrate\u0026amp;hl=en_US\u003c/a\u003e\u003c/p\u003e\n\n\u003ch3 id=\"in-case-of-lockout-of-recovery-boot-mode\"\u003eIn case of lockout of recovery boot mode\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"chroma\"\u003e\u003ccode class=\"language-sh\" data-lang=\"sh\"\u003efastboot reboot\nfastboot devices\nfastboot oem unlock\nfastboot flash recovery Downloads/twrp-3.2.1-0-oneplus2.img\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","text":" Table of Contents  Android flashing  Requirements and assumptions Flash a new rom Manually flash both files Enable ADB on device Install the automatic updates \u0026ldquo;privileged extension\u0026rdquo; for F-Droid Rsync Base configs Base features Computer apps Backup with adb backup (deprecated in the future) Backup manually selected apps copied via adb within TWRP Restore manually selected apps copied via adb within TWRP Backup using tetherback Restore using tetherback Restore using osmandx TODO Restore Migration In case of lockout of recovery boot mode    \nAndroid flashing Requirements and assumptions Adapted from: https://wiki.lineageos.org/devices/d802/upgrade\n The phone has already TWRP as bootloader Latest TWRP is already installed ROM in zip file (latest) The memory is already wiped  Flash a new rom # Paths. EDIT THIS FILES_PATH=/mnt/afuse/nas/share/os/android/lg-g2 # Reboot in recovery adb reboot recovery sleep 60 # Flash files adb push $FILES_PATH/lineage-16.0-*.zip /sdcard/lineage16.zip adb push $FILES_PATH/addonsu-16.0-arm64-*.zip /sdcard/addonsu16.zip adb push contacts.vcf /sdcard/contacts.vcf Manually flash both files  DONT allow \u0026ldquo;automatically\u0026rdquo; install anything  Enable ADB on device  Security \u0026amp; location / Encryption \u0026amp; credentials / encrypt phone About phone / Build number: Hit 7 times the build number System / Developer options /  Debugging / Android Debugging (ADB): enabled root access: Apps and ADB  USB preferences: File Transfer Plug the USB cable  Install the automatic updates \u0026ldquo;privileged extension\u0026rdquo; for F-Droid  Reboot in TWRP and push the zip file and flash it Remember to keep unselected all the checkboxes at the end (don\u0026rsquo;t install the APK!)   adb push $HOME/dropsync/appdata/android/baseapps/org.fdroid.fdroid.privileged.ota_2110.zip /sdcard/ Rsync # Source: https://ptspts.blogspot.com/2015/03/how-to-use-rsync-over-adb-on-android.html wget -O rsync.bin http://github.com/pts/rsyncbin/raw/master/rsync.rsync4android adb push rsync.bin /data/local/tmp/rsync adb shell chmod 755 /data/local/tmp/rsync adb shell cp /data/local/tmp/rsync /sdcard/rsync.bin adb shell /data/local/tmp/rsync --version adb shell /system/xbin/rsync --version Base configs # Disable captive portal (\u0026#34;Connected, no internet\u0026#34;) adb shell settings put global captive_portal_detection_enabled 0 adb shell settings put global captive_portal_mode 0 adb shell settings put global captive_portal_server example.com adb shell settings put global captive_portal_https_server \u0026#34;https://example.com\u0026#34; adb shell settings put global captive_portal_http_server \u0026#34;http://example.com\u0026#34; # Disable watchdog adb shell settings put global wifi_watchdog_on 0 adb shell settings put global wifi_watchdog_background_check_enabled 0 # Checks: Disable captive portal (\u0026#34;Connected, no internet\u0026#34;) adb shell settings get global captive_portal_detection_enabled adb shell settings get global captive_portal_mode adb shell settings get global captive_portal_server adb shell settings get global captive_portal_https_server adb shell settings get global captive_portal_http_server # Checks: Disable watchdog adb shell settings get global wifi_watchdog_on adb shell settings get global wifi_watchdog_background_check_enabled Base features Encryption\n Enable it manually. Use at least 6 digits pin passwords Set auto destruction on X failed attempts  Data sync with Nextcould (orgmode, bbdb)\n Client: https://f-droid.org/en/packages/com.nextcloud.client/  Data sync with EteSync: Based on django sync for contacts, calendar and tasks (orgmode, bbdb?)\n Client: https://f-droid.org/en/packages/com.etesync.syncadapter/ Server: https://github.com/etesync/server  Org mode\n https://f-droid.org/en/packages/com.coste.syncorg/  Access phone over desktop\n scrcpy  Phone tracking\n https://f-droid.org/en/packages/net.eneiluj.nextcloud.phonetrack/  Computer apps pacaur -S scrcpy\nBackup with adb backup (deprecated in the future) See: https://www.reddit.com/r/LineageOS/comments/b7i1zx/twrp_vs_adb_backup_all_vs_oandbackup/ See: https://play.google.com/store/apps/details?id=balti.migrate\u0026amp;hl=en_US\n# Variables: #PHONE=lg_g2 PHONE=oneplus_2 FILES_PATH=/mnt/afuse/nas/share/os/android/$PHONE/backups # Reboot in recovery mode with: # adb reboot recovery adb backup -f $FILES_PATH/`date +\u0026#39;%Y-%m-%d\u0026#39;`.$PHONE.backup.ab --twrp --compress data system boot adb reboot system Backup manually selected apps copied via adb within TWRP Also USE\nadb pull /data/data/com.excelliance.multiaccounts.b64 Restore manually selected apps copied via adb within TWRP # FIRST: # - Install the app manually # - Open and kill the app adb root adb push com.whatsapp /data/data/ Backup using tetherback  https://github.com/dlenski/tetherback https://gist.github.com/inhies/5069663   pipenv --three pipenv install https://github.com/dlenski/tetherback/archive/0.9.1.zip pipenv shell adb reboot recovery # Dont backup to usb flashdrive since throughput will be around 600kbps. Backup to local fs # tetherback -M -P -o /home/av/backup tetherback -t -M -D -R -C Restore using tetherback ./adb-sync ../tetherback/twrp-backup-2020-05-08\u0026ndash;07-53-02 /sdcard\nRestore using osmandx TODO Restore See:\n# Variables: #PHONE=lg_g2 PHONE=oneplus_2 FILES_PATH=/mnt/afuse/nas/share/os/android/$PHONE/backups # Reboot in recovery mode with: # adb reboot recovery adb restore --twrp Migration See: https://forum.xda-developers.com/android/apps-games/app-migrate-custom-rom-migration-tool-t3862763 See: https://play.google.com/store/apps/details?id=balti.migrate\u0026amp;hl=en_US\nIn case of lockout of recovery boot mode fastboot reboot fastboot devices fastboot oem unlock fastboot flash recovery Downloads/twrp-3.2.1-0-oneplus2.img"},"name":"How to flash an Android phone","published":"2021-07-11T00:00:00-03:00","summary":"Table of Contents  Android flashing  Requirements and assumptions Flash a new rom Manually flash both files Enable ADB on device Install the automatic updates \u0026ldquo;privileged extension\u0026rdquo; for F-Droid Rsync Base configs Base features Computer apps Backup with adb backup (deprecated in the future) Backup manually selected apps copied via adb within TWRP Restore manually selected apps copied via adb within TWRP Backup using tetherback Restore using tetherback Restore using osmandx TODO Restore Migration In case of lockout of recovery boot mode","type":"entry","url":"https://albertdelafuente.com/exobrain/20210711120742-how_to_flash_an_android_phone/"}